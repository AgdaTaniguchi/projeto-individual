<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Página Inicial | AvaliaOGame</title>
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/favicon.ico" type="image/x-icon">
        <link rel="stylesheet" href="css/style.css">
    </head>
    <body>
        <header>
            <nav>
                <a href="index.html"><img src="images/logo2.png" alt="Logo AvaliaOGame"></a>
                <ul>
                    <li class="aqui"><a href="index.html">Página inicial</a></li>
                    <li><a href="jogos.html">Jogos</a></li>
                    <li id="menu_sugerir" style="display: none;"><a href="sugerir.html">Sugerir jogos</a></li>
                    <li id="menu_perfil" style="display: none;"><a id="menu_nome" href="perfil.html"></a></li>
                    <li id="menu_entrar"><a href="entrar.html">Entrar</a></li>
                    <li id="menu_cadastrar"><a href="cadastrar.html">Cadastrar</a></li>
                </ul>
            </nav>
        </header>
        <main>
            <section class="home-meio sobre">
                <div class="container">
                    <div class="texto">
                        <h1>AvaliaOGame</h1>
                        <p>AvaliaOGame é um projeto criado em 2022 para jogadores conseguirem avaliar, ver avaliações e descobrir novos jogos. Disponibilizando várias maneiras de analisar cada jogo, seja por categoria, por nota de áudio, visual, jogabilidade, história do jogo ou por diversão do jogador.</p>
                        <p style="margin-bottom: 10px;">Ficou interessado?</p>
                        <a href=""><button>Fazer inscrição</button></a>
                    </div>
                    <div class="imagem">
                        <img src="images/logo2.png" alt="Logo do website (uma mão fazendo o símbolo de joinha com um fundo circular laranja)">
                    </div>
                </div>
            </section>
            <section class="top5">
                <h1>Top <span id="qtdJogos"></span> Jogos da Última Semana</h1>
                <div class="jogos-container">
                    <!-- <a href="#" class="jogo">
                        <img src="images/jogos/valorant.jpg" alt="">
                        <h3>Minecraft</h3>
                        <div class="categorias-jogo">
                            <div class="box-categoria">Lorem</div>
                            <div class="box-categoria">ipsum</div>
                            <div class="box-categoria">dolor</div>
                            <div class="box-categoria">sit</div>
                        </div>
                    </a> -->
                </div>
            </section>
            <section class="vantagens">
                <h1>Vantagens</h1>
                <div class="container-vantagens">
                    <div class="box">
                        <img src="images/avalie_seus_jogos.svg">
                        <span>Avalie os seus jogos favoritos</span>
                    </div>
                    <div class="box">
                        <img src="images/novos_jogos.svg">
                        <span>Descubra novos jogos</span>
                    </div>
                    <div class="box">
                        <img src="images/veja_avaliacao.svg">
                        <span>Veja a avaliação de outros jogadores</span>
                    </div>
                </div>
            </section>
            <section class="home-meio creditos">
                <h1>Desenvolvedora</h1>
                <div class="container">
                    <div class="imagem">
                        <img class="imagem-eu" src="images/eu.jpg" alt="Desenvolvedora do site">
                    </div>
                    <div class="texto">
                        <p>Meu nome é Agda Taniguchi, tenho 17 anos, curso Ciência da Computação e adoro jogos. O principal gênero que eu jogo é FPS, mas eu sempre estou jogando jogos multiplayers com os meus amigos e minha namorada. Meus jogos favoritos são: Valorant, Overcooked 2 e Minecraft.</p>
                        <h3>Redes sociais</h3>
                        <ul class="redes">
                            <li><a target="_blank" href="https://www.instagram.com/adjasente/">Instagram</a></li>
                            <li><a target="_blank" href="https://twitter.com/adjasente">Twitter</a></li>
                            <li><a target="_blank" href="https://github.com/AgdaTaniguchi">Github</a></li>
                        </ul>
                    </div>
                </div>
            </section>
        </main>
        <footer>
            <p>Página desenvolvida por <a href="https://github.com/AgdaTaniguchi">Agda Taniguchi</a></p>
        </footer>
    </body>
</html>
<script src="js/script.js"></script>

<script>

    carregarTop5();

    function carregarTop5(){
        fetch(`jogos/pegarTop5`)
        .then((res) => {
            res.json().then((resposta) => {
                let id_jogos = [];
                const jogos_container = document.querySelector(".jogos-container");

                for(let index = 0; index < resposta.length; index++){
                    // Adicionando jogo
                    if(id_jogos.indexOf(resposta[index].idJogo) == -1){
                        id_jogos.push(resposta[index].idJogo);
                        const nome_imagem = (((resposta[index].jogo).split(' ')).join('')).toLowerCase();
                        jogos_container.innerHTML += `<a class="jogo" href="jogo.html?idJogo=${resposta[index].idJogo}"><img src="images/jogos/${nome_imagem}.jpg" alt=""><h3>${resposta[index].jogo}</h3><div class="categorias-jogo"><div class="box-categoria" style="background: #${resposta[index].cor}">${resposta[index].categoria}</div></div></a>`;
                    }
                    // Adicionando categoria
                    else{
                        let categorias = document.querySelectorAll(".categorias-jogo");
                        categorias[categorias.length - 1].innerHTML += `<div class="box-categoria" style="background: #${resposta[index].cor}">${resposta[index].categoria}</div>`;
                    }
                }

                qtdJogos.innerHTML = id_jogos.length;
                document.querySelector('.jogos-container').style = `grid-template-columns: repeat(${id_jogos.length}, 1fr)`;
            });
        })
        .catch((erro) => {
            console.error(`Houve um erro ao carregar o top 5: ${erro.message}`);
        });
    }
</script>