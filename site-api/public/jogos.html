<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Jogos | AvaliaOGame</title>
        <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/favicon.ico" type="image/x-icon">
        <link rel="stylesheet" href="css/style.css">
    </head>
    <body>
        <header>
            <nav>
                <a href="index.html"><img src="images/logo2.png" alt="Logo AvaliaOGame"></a>
                <ul>
                    <li><a href="index.html">Página inicial</a></li>
                    <li class="aqui"><a href="jogos.html">Jogos</a></li>
                    <li id="menu_sugerir" style="display: none;"><a href="sugerir.html">Sugerir jogos</a></li>
                    <li id="menu_perfil" style="display: none;"><a id="menu_nome" href="perfil.html"></a></li>
                    <li id="menu_entrar"><a href="entrar.html">Entrar</a></li>
                    <li id="menu_cadastrar"><a href="cadastrar.html">Cadastrar</a></li>
                </ul>
            </nav>
        </header>
        <main>
            <section class="jogos">
                <h1>Jogos</h1>
                <div class="container">
                    <div class="box-esquerda">
                        <div class="caixa">
                            <h3>Ordenar por:</h3>
                            <select id="ordenarJogos">
                                <option value="ultimosAdicionados">Últimos adicionados</option>
                                <option value="nome">Nome</option>
                                <option value="maisAvaliados">Mais avaliados</option>
                                <option value="menosAvaliados">Menos avaliados</option>
                                <option value="maiorNota">Maior nota</option>
                                <option value="menorNota">Menor nota</option>
                            </select>
                        </div>
                        <div class="caixa">
                            <h3>Categorias</h3>
                            <ul>
                                <li onclick="filtrar()" value="1">Ação</li>
                                <li onclick="filtrar()" value="2">Puzzle</li>
                                <li onclick="filtrar()" value="3">FPS</li>
                                <li onclick="filtrar()" value="4">Simulador</li>
                                <li onclick="filtrar()" value="5">RPG</li>
                                <li onclick="filtrar()" value="6">Um Jogador</li>
                                <li onclick="filtrar()" value="7">Multijogador</li>
                            </ul>
                        </div>
                    </div>
                    <div class="jogos-container">
                        <div id="loading">
                            <div class="animacao"></div>
                        </div>
                        <!-- <div class="jogo">
                            <img src="images/jogos/valorant.jpg" alt="">
                            <h3>Minecraft</h3>
                            <div class="categorias-jogo">
                                <div class="box-categoria">Lorem</div>
                                <div class="box-categoria">ipsum</div>
                                <div class="box-categoria">dolor</div>
                                <div class="box-categoria">sit</div>
                                <div class="box-categoria">Um jogador</div>
                                <div class="box-categoria">Ação</div>
                            </div>
                        </div> -->
                    </div>
                </div>
            </section>
        </main>
        <footer>
            <p>Página desenvolvida por <a href="https://github.com/AgdaTaniguchi">Agda Taniguchi</a></p>
        </footer>
    </body>
</html>

<script src="./js/jogos.js"></script>
<script src="js/script.js"></script>

<script>
    function filtrar(){
        idCategoria = event.target.value;
        fetch(`jogos/filtrar?idCategoria=${idCategoria}`)
        .then(((res) => {
            if(res.ok){
                res.json().then(function(resposta){
                    console.log(`Dados recebidos: ${JSON.stringify(resposta)}`);
                });
            }
            else{
                console.error('Nenhum jogo encontrado ou erro na API');
            }
        }))
        .catch((erro) => {
            console.error(`Erro na obtenção dos jogos: ${erro.message}`);
        });
    }
</script>